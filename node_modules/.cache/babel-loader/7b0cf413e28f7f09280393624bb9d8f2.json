{"ast":null,"code":"var _jsxFileName = \"C:\\\\PROYECTOS\\\\CACAO-swap\\\\src\\\\components\\\\PageHeader\\\\SlippageToleranceSetting.tsx\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from 'react';\nimport styled from 'styled-components';\nimport { Button, Flex, Input, Text } from '@pancakeswap-libs/uikit';\nimport { useUserSlippageTolerance } from 'state/user/hooks';\nimport QuestionHelper from '../QuestionHelper';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst MAX_SLIPPAGE = 5000;\nconst RISKY_SLIPPAGE_LOW = 50;\nconst RISKY_SLIPPAGE_HIGH = 500;\nconst StyledSlippageToleranceSettings = styled.div`\n  margin-bottom: 16px;\n`;\n_c = StyledSlippageToleranceSettings;\nconst Option = styled.div`\n  padding: 0 4px;\n`;\n_c2 = Option;\nconst Options = styled.div`\n  align-items: center;\n  display: flex;\n  flex-direction: column;\n\n  ${Option}:first-child {\n    padding-left: 0;\n  }\n\n  ${Option}:last-child {\n    padding-right: 0;\n  }\n\n  ${({\n  theme\n}) => theme.mediaQueries.sm} {\n    flex-direction: row;\n  }\n`;\n_c3 = Options;\nconst Label = styled.div`\n  align-items: center;\n  display: flex;\n  margin-bottom: 8px;\n`;\n_c4 = Label;\nconst predefinedValues = [{\n  label: '0.1%',\n  value: 0.1\n}, {\n  label: '0.5%',\n  value: 0.5\n}, {\n  label: '1%',\n  value: 1\n}];\n\nconst SlippageToleranceSettings = ({\n  translateString\n}) => {\n  _s();\n\n  const TranslateString = translateString;\n  const [userSlippageTolerance, setUserslippageTolerance] = useUserSlippageTolerance();\n  const [value, setValue] = useState(userSlippageTolerance / 100);\n  const [error, setError] = useState(null);\n\n  const handleChange = evt => {\n    const {\n      value: inputValue\n    } = evt.target;\n    setValue(parseFloat(inputValue));\n  }; // Updates local storage if value is valid\n\n\n  useEffect(() => {\n    try {\n      const rawValue = value * 100;\n\n      if (!Number.isNaN(rawValue) && rawValue > 0 && rawValue < MAX_SLIPPAGE) {\n        setUserslippageTolerance(rawValue);\n        setError(null);\n      } else {\n        setError(TranslateString(1144, 'Enter a valid slippage percentage'));\n      }\n    } catch {\n      setError(TranslateString(1144, 'Enter a valid slippage percentage'));\n    }\n  }, [value, setError, setUserslippageTolerance, TranslateString]); // Notify user if slippage is risky\n\n  useEffect(() => {\n    if (userSlippageTolerance < RISKY_SLIPPAGE_LOW) {\n      setError(TranslateString(1146, 'Your transaction may fail'));\n    } else if (userSlippageTolerance > RISKY_SLIPPAGE_HIGH) {\n      setError(TranslateString(1148, 'Your transaction may be frontrun'));\n    }\n  }, [userSlippageTolerance, setError, TranslateString]);\n  return /*#__PURE__*/_jsxDEV(StyledSlippageToleranceSettings, {\n    children: [/*#__PURE__*/_jsxDEV(Label, {\n      children: [/*#__PURE__*/_jsxDEV(Text, {\n        style: {\n          fontWeight: 600\n        },\n        children: TranslateString(88, 'Slippage tolerance')\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(QuestionHelper, {\n        text: TranslateString(186, 'Your transaction will revert if the price changes unfavorably by more than this percentage.')\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Options, {\n      children: [/*#__PURE__*/_jsxDEV(Flex, {\n        mb: ['8px', 0],\n        mr: [0, '8px'],\n        children: predefinedValues.map(({\n          label,\n          value: predefinedValue\n        }) => {\n          const handleClick = () => setValue(predefinedValue);\n\n          return /*#__PURE__*/_jsxDEV(Option, {\n            children: /*#__PURE__*/_jsxDEV(Button, {\n              variant: value === predefinedValue ? 'primary' : 'tertiary',\n              onClick: handleClick,\n              children: label\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 105,\n              columnNumber: 17\n            }, this)\n          }, predefinedValue, false, {\n            fileName: _jsxFileName,\n            lineNumber: 104,\n            columnNumber: 15\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Flex, {\n        alignItems: \"center\",\n        children: [/*#__PURE__*/_jsxDEV(Option, {\n          children: /*#__PURE__*/_jsxDEV(Input, {\n            type: \"number\",\n            scale: \"lg\",\n            step: 0.1,\n            min: 0.1,\n            placeholder: \"5%\",\n            value: value,\n            onChange: handleChange,\n            isWarning: error !== null\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 114,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 113,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Option, {\n          children: /*#__PURE__*/_jsxDEV(Text, {\n            fontSize: \"18px\",\n            children: \"%\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 126,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 125,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 7\n    }, this), error && /*#__PURE__*/_jsxDEV(Text, {\n      mt: \"8px\",\n      color: \"failure\",\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 88,\n    columnNumber: 5\n  }, this);\n};\n\n_s(SlippageToleranceSettings, \"pFG4T5+1+Vmw/arCtYDx39HamRs=\", false, function () {\n  return [useUserSlippageTolerance];\n});\n\n_c5 = SlippageToleranceSettings;\nexport default SlippageToleranceSettings;\n\nvar _c, _c2, _c3, _c4, _c5;\n\n$RefreshReg$(_c, \"StyledSlippageToleranceSettings\");\n$RefreshReg$(_c2, \"Option\");\n$RefreshReg$(_c3, \"Options\");\n$RefreshReg$(_c4, \"Label\");\n$RefreshReg$(_c5, \"SlippageToleranceSettings\");","map":{"version":3,"sources":["C:/PROYECTOS/CACAO-swap/src/components/PageHeader/SlippageToleranceSetting.tsx"],"names":["React","useEffect","useState","styled","Button","Flex","Input","Text","useUserSlippageTolerance","QuestionHelper","MAX_SLIPPAGE","RISKY_SLIPPAGE_LOW","RISKY_SLIPPAGE_HIGH","StyledSlippageToleranceSettings","div","Option","Options","theme","mediaQueries","sm","Label","predefinedValues","label","value","SlippageToleranceSettings","translateString","TranslateString","userSlippageTolerance","setUserslippageTolerance","setValue","error","setError","handleChange","evt","inputValue","target","parseFloat","rawValue","Number","isNaN","fontWeight","map","predefinedValue","handleClick"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react'\r\nimport styled from 'styled-components'\r\nimport { Button, Flex, Input, Text } from '@pancakeswap-libs/uikit'\r\nimport { useUserSlippageTolerance } from 'state/user/hooks'\r\nimport QuestionHelper from '../QuestionHelper'\r\n\r\nconst MAX_SLIPPAGE = 5000\r\nconst RISKY_SLIPPAGE_LOW = 50\r\nconst RISKY_SLIPPAGE_HIGH = 500\r\n\r\nconst StyledSlippageToleranceSettings = styled.div`\r\n  margin-bottom: 16px;\r\n`\r\n\r\nconst Option = styled.div`\r\n  padding: 0 4px;\r\n`\r\n\r\nconst Options = styled.div`\r\n  align-items: center;\r\n  display: flex;\r\n  flex-direction: column;\r\n\r\n  ${Option}:first-child {\r\n    padding-left: 0;\r\n  }\r\n\r\n  ${Option}:last-child {\r\n    padding-right: 0;\r\n  }\r\n\r\n  ${({ theme }) => theme.mediaQueries.sm} {\r\n    flex-direction: row;\r\n  }\r\n`\r\n\r\nconst Label = styled.div`\r\n  align-items: center;\r\n  display: flex;\r\n  margin-bottom: 8px;\r\n`\r\n\r\nconst predefinedValues = [\r\n  { label: '0.1%', value: 0.1 },\r\n  { label: '0.5%', value: 0.5 },\r\n  { label: '1%', value: 1 },\r\n]\r\n\r\ntype SlippageToleranceSettingsModalProps = {\r\n  translateString: (translationId: number, fallback: string) => (string)\r\n}\r\n\r\nconst SlippageToleranceSettings = ({ translateString }: SlippageToleranceSettingsModalProps) => {\r\n  const TranslateString = translateString\r\n  const [userSlippageTolerance, setUserslippageTolerance] = useUserSlippageTolerance()\r\n  const [value, setValue] = useState(userSlippageTolerance / 100)\r\n  const [error, setError] = useState<string | null>(null)\r\n  const handleChange = (evt: React.ChangeEvent<HTMLInputElement>) => {\r\n    const { value: inputValue } = evt.target\r\n    setValue(parseFloat(inputValue))\r\n  }\r\n\r\n  // Updates local storage if value is valid\r\n  useEffect(() => {\r\n    try {\r\n      const rawValue = value * 100\r\n      if (!Number.isNaN(rawValue) && rawValue > 0 && rawValue < MAX_SLIPPAGE) {\r\n        setUserslippageTolerance(rawValue)\r\n        setError(null)\r\n      } else {\r\n        setError(TranslateString(1144, 'Enter a valid slippage percentage'))\r\n      }\r\n    } catch {\r\n      setError(TranslateString(1144, 'Enter a valid slippage percentage'))\r\n    }\r\n  }, [value, setError, setUserslippageTolerance, TranslateString])\r\n\r\n  // Notify user if slippage is risky\r\n  useEffect(() => {\r\n    if (userSlippageTolerance < RISKY_SLIPPAGE_LOW) {\r\n      setError(TranslateString(1146, 'Your transaction may fail'))\r\n    } else if (userSlippageTolerance > RISKY_SLIPPAGE_HIGH) {\r\n      setError(TranslateString(1148, 'Your transaction may be frontrun'))\r\n    }\r\n  }, [userSlippageTolerance, setError, TranslateString])\r\n\r\n  return (\r\n    <StyledSlippageToleranceSettings>\r\n      <Label>\r\n        <Text style={{ fontWeight: 600 }}>{TranslateString(88, 'Slippage tolerance')}</Text>\r\n        <QuestionHelper\r\n          text={TranslateString(\r\n            186,\r\n            'Your transaction will revert if the price changes unfavorably by more than this percentage.'\r\n          )}\r\n        />\r\n      </Label>\r\n      <Options>\r\n        <Flex mb={['8px', 0]} mr={[0, '8px']}>\r\n          {predefinedValues.map(({ label, value: predefinedValue }) => {\r\n            const handleClick = () => setValue(predefinedValue)\r\n\r\n            return (\r\n              <Option key={predefinedValue}>\r\n                <Button variant={value === predefinedValue ? 'primary' : 'tertiary'} onClick={handleClick}>\r\n                  {label}\r\n                </Button>\r\n              </Option>\r\n            )\r\n          })}\r\n        </Flex>\r\n        <Flex alignItems=\"center\">\r\n          <Option>\r\n            <Input\r\n              type=\"number\"\r\n              scale=\"lg\"\r\n              step={0.1}\r\n              min={0.1}\r\n              placeholder=\"5%\"\r\n              value={value}\r\n              onChange={handleChange}\r\n              isWarning={error !== null}\r\n            />\r\n          </Option>\r\n          <Option>\r\n            <Text fontSize=\"18px\">%</Text>\r\n          </Option>\r\n        </Flex>\r\n      </Options>\r\n      {error && (\r\n        <Text mt=\"8px\" color=\"failure\">\r\n          {error}\r\n        </Text>\r\n      )}\r\n    </StyledSlippageToleranceSettings>\r\n  )\r\n}\r\n\r\nexport default SlippageToleranceSettings\r\n"]},"metadata":{},"sourceType":"module"}